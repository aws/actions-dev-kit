query getEnvironmentDeploymentV2($input: GetEnvironmentDeploymentV2Input!){
    getEnvironmentDeploymentV2(input: $input){
        details{
            environmentId
            deploymentTargetType
            deploymentTargetId
            lastUpdatedTime
            deploymentStatus
            deploymentMessage
            triggerInfo{
                triggerEventId
                triggerEventType
                triggerEventActor
                triggerEventUser{
                    userId
                    userName
                    displayName
                    primaryEmail{
                        email
                        verified
                    }
                    version
                }
            }
            connection{
                roleName
                roleId
                accountConnectionName
                accountConnectionId
            }
            workflowActionInfo{
                workflowId
                workflowExecutionId
                workflowActionExecutionId
                workflowActionName
                workflowActionIdentifier
            }
            sourceInfo{
                sourceRepositoryName
                sourceBranchName
                sourceCommitId
            }
            cfnStackDeploymentInfo{
                stackName
                region
                stackId
                description
                status
                statusReason
                stackTemplate
                stackRoleArn
                rollbackOnFailure
                rollbackConfiguration{
                    alarmArns
                    monitoringTime
                }
                changeSet{
                    changeSetId
                    changeSetName
                    changes{
                        logicalResourceId
                        resourceType
                    }
                    status
                    statusReason
                }
                stackEvents{
                    logicalResourceId
                    timestamp
                    resourceStatus
                    resourceStatusReason
                }
                parameters{
                    parameterKey
                    parameterValue
                    resolvedValue
                }
                outputs{
                    outputKey
                    outputValue
                    description
                    exportName
                }
                resourceCount
            }
            ecsServiceDeploymentInfo{
                clusterName
                serviceName
                region
                deploymentController
                codedeployApplicationName
                codedeployDeploymentGroupName
                codedeployDeploymentId
            }
            details{
                environmentId
                deploymentTargetType
                deploymentTargetId
                lastUpdatedTime
                deploymentStatus
                deploymentMessage
            }
        }
    }
}